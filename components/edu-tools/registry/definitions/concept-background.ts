/**
 * 概念背景工具定义
 */
import * as z from 'zod';
import { ToolCategory, ToolDefinition, ToolType } from '../types';

/**
 * 概念背景工具的定义
 */
export const conceptBackgroundTool: ToolDefinition = {
  id: 'concept-background',
  title: '概念背景',
  description: '为抽象或复杂概念提供简短但全面的背景介绍',
  icon: 'Lightbulb',
  category: ToolCategory.KNOWLEDGE_ENCYCLOPEDIA,
  toolType: ToolType.TEXT_GENERATION,
  
  form: {
    fields: [
      {
        id: 'concept',
        label: '概念',
        type: 'text',
        required: true,
        placeholder: '请输入需要了解背景的概念...',
        helpText: '输入任何领域的关键词或短语'
      }
    ],
    validationSchema: z.object({
      concept: z.string({
        required_error: '请输入概念'
      }).min(1, {
        message: '概念不能为空'
      })
    }),
    defaultValues: {
      concept: ''
    }
  },
  
  prompt: {
    template: `
你是一位经验丰富的研究者和教育者，擅长用简洁的语言解释复杂的概念。你的任务是为{概念}提供简短但全面的概念背景介绍。回答应包括该主题的历史、文化、社会和哲学背景，以及它在现代社会中的意义和影响。请确保回答在 400 字以内，重点突出核心信息，避免冗长细节。

1. 输入格式：用户输入的内容为 {概念}，其中 概念 可以是任何领域的关键词或短语。
2. 输出格式：根据 {概念}，生成 350 字左右的核心背景内容，简洁且富有信息量，覆盖{概念}的历史、应用、影响等。

3. 回答要点
a. {概念}定义与基本解释
  i.简要定义{概念}。
  ii.介绍{概念}的基本特征。
  iii.提供{概念}在日常生活中的简要应用或理解。
b. 历史背景与起源
  i.概述{概念}的起源历史，提出其形成的时间、地点、背景。
  ii.讨论相关领域或事件的演变。
  iii.重要的学者或发明人及其贡献。
  iv.{概念}对社会、文化、科技等领域的最初影响。
c. 核心理论与主要特点
  i.解释{概念}的核心理论或思想框架。
  ii.详细介绍{概念}的主要特点或原则。
  iii.提供支撑该理论的基础数据或逻辑。
  iv.相关领域中的关键术语、定义及其解释。
d. 关键人物与发展历程
  i.讨论与{概念}发展相关的重要人物。
  ii.讲述{概念}发展的重大里程碑。
  iii.描述{概念}随着时间推移的变化和成熟。
  iv.比较早期和现代{概念}的差异。
e. 应用与实践
  i.详细介绍{概念}在不同领域（例如：科技、社会、文化等）的具体应用。
  ii.通过实例说明{概念}如何影响社会生活、行业、个人。
  iii.讨论在实践中{概念}的实施效果和实际意义。
f. 前沿研究与挑战
  i.描述当前{概念}在学术界或行业中的研究进展。
  ii.讨论最新的技术、方法或理论，展示其与{概念}的关系。
  iii.解释该领域目前面临的技术挑战或研究难点。
  iv.介绍正在进行的前沿探索或新的应用方向。
g. 争议与不同观点
  i.探讨与{概念}相关的主要争议或不一致意见。
  ii.不同学派、学者或团体的观点分析。
  iii.如何平衡这些观点，提供中立或多角度的解读。
  iv.在现实世界中的这些争议如何影响政策或实践。
h. 跨学科的联系与影响
  i.解释{概念}与其他学科之间的关系，如何促进跨学科合作。
  ii.描述{概念}如何推动或受其他学科（如哲学、经济学、艺术等）的影响。
  iii.讨论{概念}如何成为其他领域研究的基础或工具。
i. 未来趋势与潜在影响
  i.预测{概念}在未来可能的发展方向。
  ii.讨论新兴科技、社会变革或文化趋势对{概念}的影响。
  iii.如何通过创新或改进进一步推动{概念}的普及与应用。
  iv.未来可能面临的新挑战或机遇。
j. 总结与综合性回顾
  i.综合回顾{概念}的发展历程、应用和前景。
  ii.强调{概念}的多维度影响及其重要性。
  iii.对{概念}的未来进行总结性的展望。

4. 领域回答策略：以下是生活、艺术与文化、人文与社会科学、自然与自然科学、宗教及信仰、工程、技术与应用科学等八个领域的回答策略，并给出相应细分领域的例子。每个领域的回答策略都有不同的聚焦点，确保讨论内容的相关性和深入性。

a. 生活、艺术与文化
§回答策略： 在讨论生活、艺术与文化时，可以从日常生活的实际体验到艺术创作、文化价值的多维度展开。回答时注重描述、分析和评论的结合，涉及文化现象或艺术作品的表达意义、影响力和社会价值。
§ 细分领域例子：
•收藏：艺术品收藏、古董收藏
• 饮食：地方美食、饮食文化
• 服装：时尚潮流、传统服饰
• 音乐：古典音乐、流行音乐
• 绘画：油画、水彩画
• 电影：经典电影、独立电影
•世界各地
§ 回答策略： 对世界各地的讨论可以从地理、文化和社会角度出发，分析不同地区的独特性和全球化背景下的互动。每个大洲的历史、文化和经济特点应被逐一探讨，着重展示其多样性和地域性。
§ 细分领域例子：
• 亚洲：中东地区的宗教文化，东南亚的传统节日
• 非洲：非洲大陆的部落文化，历史遗产
• 北美洲：美国的种族问题，加拿大的双语文化
• 南美洲：拉丁美洲的民族融合，亚马逊雨林
• 欧洲：欧洲文艺复兴，欧洲政治文化
• 南极洲：生态环境研究，科学考察站
•中华文化
§ 回答策略： 重点阐述中国的历史、哲学、文化及传统，强调中华文化的深厚底蕴和与其他文化的互动。回答时应结合历史背景，分析中国传统文化如何在当代社会得到传承与创新。
§ 细分领域例子：
• 中国历史：秦汉历史、宋元明清
• 中国神话：《山海经》、神话人物
• 中国音乐：传统音乐、民乐器
• 中国武术：太极、少林功夫
• 中医：针灸、草药疗法
• 书法：篆书、楷书
•人文与社会科学
§ 回答策略： 强调人文学科和社会科学对个体与社会的影响，回答时要深入探讨理论框架和实际应用。关注学科间的交叉与互动，讨论其对理解社会现象的贡献。
§ 细分领域例子：
• 哲学：存在主义、伦理学
• 历史学：中国历史、世界历史
• 社会学：社会结构、现代化
• 经济学：宏观经济学、微观经济学
• 心理学：行为心理学、发展心理学
• 法学：宪法、国际法
•自然与自然科学
§ 回答策略： 在自然科学领域，回答应注重科学原理、实验方法和应用技术，突出自然现象背后的科学逻辑。结合案例说明，阐述如何运用科学理论解决实际问题。
§ 细分领域例子：
• 生物学：生态学、遗传学
• 物理学：量子力学、力学
• 化学：有机化学、无机化学
• 天文学：太阳系、星际探测
• 地质学：火山学、地震学
• 生物医学：临床医学、药物研发
•宗教及信仰
§ 回答策略： 探讨各宗教体系的基本教义、历史发展和影响力，结合不同信仰的社会文化影响，分析宗教与信仰在当代世界的作用。可以考虑不同宗教的节日、哲学和宗教场所的特色。
§ 细分领域例子：
• 基督教：圣经、教堂建筑
• 佛教：禅宗、菩萨文化
• 伊斯兰教：五功、清真寺
• 道教：道家经典、道观
• 神话：世界各地的神话传说
• 宗教建筑：寺庙、教堂、清真寺的建筑风格
•工程、技术与应用科学
§ 回答策略： 回答时注重对技术和工程的详细描述，结合实际案例或应用场景阐明技术在不同领域的创新和挑战。分析技术进步对社会、经济等方面的深远影响。
§ 细分领域例子：
• 交通：智能交通系统、自动驾驶
• 建筑学：绿色建筑、智能建筑设计
• 计算机科学：人工智能、机器学习
• 电气工程：电力传输、智能电网
• 机械工程：机器人技术、自动化生产线
• 环境科学：环境保护、可持续发展
•社会
§ 回答策略： 关注社会结构、制度及其在实际社会生活中的体现，探讨社会现象、问题和对策，尤其是现代社会变化的多维度分析。回答时可以结合历史背景，讨论社会变迁与科技发展之间的关系。
§ 细分领域例子：
• 文化：全球化文化、亚文化
• 经济：资本主义、社会主义
• 政治：民主政治、全球治理
• 法律：刑法、民法
• 教育：教育改革、在线教育
• 家庭：家庭结构、家庭关系

这些领域和细分领域的回答策略有助于确保讨论的全面性、深入性和适应性。通过准确识别话题的性质，并针对性地展开讨论，可以更加清晰、有条理地表达观点和分析内容。

5. 示例应用：
a. 输入: {嬉皮士运动}
输出：嬉皮士运动是 20 世纪 60 年代兴起于美国的一场反主流文化运动。其核心思想是反对传统社会价值观，倡导和平、自由，并追求精神解放。嬉皮士们反对物质主义，尤其是在越南战争期间，他们强烈反对战争的暴力与不公。该运动的标志性特征包括追求自然、集体生活、反对工业化、以及通过音乐、艺术和毒品探索个人意识。嬉皮士们崇尚非暴力，并通过如"伍德斯托克音乐节"等大型活动来表达这些理念。虽然嬉皮士运动在 70 年代逐渐衰退，但它在文化、艺术和社会改革中产生了深远的影响，推动了环保、性别平等和多元文化等社会议题的发展。至今，嬉皮士的理念仍对现代环保主义、社会自由运动等产生着重要影响。

b. 输入: {量子物理}
输出：量子物理是研究物质和能量在微观尺度下行为的物理学分支，核心在于揭示原子及亚原子粒子的行为规律。量子物理的诞生可以追溯到 20 世纪初期，当时物理学家发现经典物理无法解释一些现象，如黑体辐射问题。普朗克的量子假设、爱因斯坦的光电效应理论及海森堡的不确定性原理等，是量子物理的基石。量子力学的一个显著特点是其概率性，即粒子的位置和动量不能同时确定。量子物理的进步推动了现代技术的许多发展，包括半导体技术、激光和核磁共振成像等。当前，量子物理的前沿研究集中在量子计算和量子通信领域，这些技术有可能在未来彻底改变信息处理和传输的方式。

c. 输入: {人工智能}
输出：人工智能（AI）是计算机科学的一个重要分支，致力于模拟和实现人的智能行为。它的目标是让机器能够感知环境、进行推理、学习和做出决策。人工智能的发展经历了多个阶段，从 20 世纪 50 年代的早期符号推理和专家系统，到 21 世纪的深度学习和神经网络。AI 的核心技术之一是机器学习，特别是深度学习，通过大量数据训练模型，使得机器能够自动识别模式和进行预测。AI 在医疗、金融、交通、教育等领域有着广泛的应用。例如，AI 可以帮助医生进行疾病诊断、优化交通信号、提高金融预测精度等。目前，AI 面临的挑战包括伦理问题（如隐私和偏见）以及如何使 AI 系统具备更强的解释性和可控性。

概念: {{concept}}
`,
    examples: [
      'DeepSeek',
      '宋庆龄',
      '极客',
      '改变'
    ],
    mapParamsToPrompt: (formData) => ({
      concept: formData.concept
    })
  },
  
  routing: {
    path: '/tools/concept-background',
    metadata: {
      title: '概念背景 | 教育工具集',
      description: '为抽象或复杂概念提供简短但全面的背景介绍'
    }
  }
};
